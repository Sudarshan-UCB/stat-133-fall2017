---
title: "Vector basics"
author: "Sudarshan Srirangapatanam"
output: html_document
---

### Research Question:
The more points a player scores, the higher his salary?

**Setup:**\
```{r steup}
require(knitr)
rm(list = ls())
load("data/nba2017-salary-points.RData")

check_length <- function(...){
  num <- length(list(...))
  lengths <- 0
  for (i in 1:num){
    lengths[i] <- length(list(...)[[i]])
  }
  for (j in 1:(num-1)){
    if (lengths[j] != lengths[j+1]){
      return("All objects are NOT of Equal length")
    }
  }
  return("All objects are of Equal length")
}
```
Any existing objects are cleared and objects from [`nba2017-salary-points.RData`][1] is loaded into the enviornemnt.

This files contains the following objects:

- `player`: name of the player.\
  Class of object: `r class(player)`\
  This object is a Vector: `r is.vector(player)`\
  Summary (Length): `r summary(player)[1]`
  
- `team`: team name abbreviation.\
  Class of object: `r class(team)`\
  This object is a Vector: `r is.vector(team)`\
  Summary: List of Teams that correspond to the player.
  
- `position`: player position.\
  Class of object: `r class(position)`\
  This object is a Vector: `r is.vector(position)`\
  Summary (Length): `r summary(position)[1]`
  
- `salary`: salary (in dollars).\
  Class of object: `r class(salary)`\
  This object is a Vector: `r is.vector(salary)`\
  Summary (Min, Median, Mean, Max): `r summary(salary)[c(1,3,4,6)]`
  
- `points`: total scored points.\
  Class of object: `r class(points)`\
  This object is a Vector: `r is.vector(points)`\
  Summary (Min, Median, Mean, Max): `r summary(points)[c(1,3,4,6)]`
  
- `points1`: number of free throws, worth 1 point each.\
  Class of object: `r class(points1)`\
  This object is a Vector: `r is.vector(points1)`\
  Summary (Min, Median, Mean, Max): `r summary(points1)[c(1,3,4,6)]`
  
- `points2`: number of 2-point field goals, worth 2 points each.\
  Class of object: `r class(points2)`\
  This object is a Vector: `r is.vector(points1)`\
  Summary (Min, Median, Mean, Max): `r summary(points2)[c(1,3,4,6)]`
  
- `points3`: number of 3-point field goals, worth 3 points each.\
  Class of object: `r class(points3)`\
  This object is a Vector: `r is.vector(points3)`\
  Summary (Min, Median, Mean, Max): `r summary(points3)[c(1,3,4,6)]`
  
**Do all of the objects have equal length?**\
`r check_length(player, points1, points2, points3, position, salary, team)`

**Are there any vectors, factors, lists?**\
All objects all vectors excepts for `team` which is a factor.

**_For the rest of the assignment I will be using `position` as my categorical variable and `points` as quantitative variable._**

### Quantitative Variable
```{r}
summary(points)
hist(points, probability = TRUE)
lines(density(points))
boxplot(points)
```

As we can see from the histogram, distribution of points is skewed left. With a mean of `r mean(points)` and a median of `r median(points)`. The full range of is [`r min(points)`, `r max(points)`].\
The boxplot shows many outliers near the max.

Stats of `points`:

* mean (i.e. average) = `r mean(points)`
* standard deviation = `r sd(points)`
* minimum value = `r min(points)`
* maximum value = `r max(points)`
* median = `r median(points)`
* quartiles (Q2 and Q4) = `r quantile(points, probs = c(.25, .75))`, respectively

### Qualitative Variable
```{r}
position_fac <- factor(position)
table <- table(position_fac) # Counts of positions

counts <- as.matrix(table)
prop <- as.matrix(prop.table(table))
```

`r kable(counts, caption = "Frequency table")`

`r kable(prop, caption = "Relative Frequencies")`

```{r}
plot <- barplot(counts[,1], ylim = c(0,max(counts) + 10))
text(plot, counts[,1], labels = counts, pos = 3)
```

All Positions are distributed approximately equally with Shooting Guards accounting for highest percentage at `r round(max(prop)*100, 0)`%.

This shows that position might have low to none influence on points scored since the plays are equally distributed among positions but have varying points. This is not, however, conclusive since we did not run any tests to confirm or reject our hypothesis. If we were to run a test we could use this as our hypothesis.

### Report your process

Turning positions into factors were easy but using those factors to display frequency table and proportion table took some time. To solve the issues regarding plots with just one column and other error from knitr, I used the default help tab and read the instructions to figure out the values I was supposed to be passing to the function and formatted my code based on trail and error. The most time-consuming part was **Qualitative Variable** section and the most frustrating was using kable function. Later I realized that I had to include it first and then everything went as planned.

<!-- Links used in the document -->
[1]: https://github.com/ucb-stat133/stat133-fall-2017/raw/master/data/nba2017-salary-points.RData